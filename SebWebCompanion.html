<!DOCTYPE html>
<html>
<head>
	<link rel="icon" href="https://art.pixilart.com/sr5zfaad98ce16aws3.png" type="image/x-icon"/>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&display=swap&family=Fredoka:wght@300..700&family=Press+Start+2P&display=swap" rel="stylesheet">

	<meta charset="UTF-8">
	<title>SebWeb Companion</title>

	<style>
		body {
			margin: 0;
			font-family: 'Press Start 2P', serif;
			background: url('https://www.topgear.com/sites/default/files/2021/08/04%20DSC06357.jpg') no-repeat center center fixed;
			background-size: cover;
			color: white;
			height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.chatbox {
			width: 75%;
			max-width: 1000px;
			height: 70vh;
			padding: 16px;
			border-radius: 16px;
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.2);
			box-shadow: 0 4px 30px rgba(0,0,0,0.3);
			display: flex;
			flex-direction: column;
		}

		.messages {
			flex: 1;
			overflow-y: auto;
			display: flex;
			flex-direction: column;
			gap: 10px;
			margin-bottom: 12px;
			padding-right: 4px;
		}

		.msg {
			padding: 10px;
			border-radius: 10px;
			max-width: 75%;
			white-space: pre-wrap;
			line-height: 1.4;
			word-break: break-word;
			overflow-wrap: anywhere;
		}

		.user { align-self: flex-end; background: #3b82f6; color: white; }
		.bot { align-self: flex-start; background: #0f172a; border: 1px solid #334155; }

		.input-area {
			display: flex;
			gap: 8px;
		}

		input {
			flex: 1;
			padding: 10px;
			border-radius: 8px;
			border: 1px solid #334155;
			background: rgba(15,23,42,0.8);
			color: white;
			font-family: 'Press Start 2P', serif;
		}

		button {
			background: #3b82f6;
			color: white;
			border: none;
			padding: 10px 14px;
			border-radius: 8px;
			cursor: pointer;
			font-family: 'Press Start 2P', serif;
			transition: transform 0.2s ease, background 0.2s ease;
		}

		#backButtonContainer {
			position: absolute;
			top: 50px;
			left: 50%;
			transform: translateX(-50%);
			text-align: center;
			width: auto;
		}

		#backButton {
			background: rgba(255, 255, 255, 0.15);
			backdrop-filter: blur(10px);
			padding: 10px 16px;
			border-radius: 12px;
			border: 1px solid rgba(255,255,255,0.2);
			color: white;
			font-family: 'Press Start 2P';
			cursor: pointer;
			box-shadow: 0 4px 30px rgba(0,0,0,0.3);
			transition: transform 0.2s ease, background 0.2s ease;
		}

		button:hover {
			transform: scale(1.04);
		}
	</style>
</head>

<body>

<div id="backButtonContainer">
	<button id="backButton" onclick="window.location.href='index.html'">
		‚Üê Back to New Tab
	</button>
</div>

<div class="chatbox">
	<div class="messages" id="messages"></div>
	<div class="input-area">
		<input id="input" placeholder="Say something..." />
		<button id="send">Send</button>
	</div>
</div>

<script>
	const messagesEl = document.getElementById("messages");
	const inputEl = document.getElementById("input");

	const responses = [
		{ mode: "any", triggers: ["hello", "hi"], reply: "Hello! How are you?" },
		{ mode: "any", triggers: ["joke"], reply: "Why did the web developer go broke? Because he used up all his cache!" },
		{ mode: "any", triggers: ["day","weekday"], reply: "Today is {day}." },
		{ mode: "any", triggers: ["date","today"], reply: "Today's date is {date}." },
		{ mode: "any", triggers: ["time","clock"], reply: "The current time is {time}." },
		{ mode: "all", triggers: ["generate","code"], reply: "Sorry, I don't have the ability generate code yet." },
		{ mode: "any", triggers: ["love 67","love the meme 67","love the number 67","like 67","like the meme 67","like the number 67"], reply: "67 is terrible bro."},
		{ mode: "all", triggers: ["your","creator"], reply: "Seb is my creator, and his platform is SebWeb." },
		{ mode: "all", triggers: ["make","code"], reply: "Sorry, I don't have the ability generate code yet." },
		{ mode: "any", triggers: ["how are you", "hru"], reply: "I'm good thanks! How about you?" },
		{ mode: "any", triggers: ["good morning", "morning"], reply: "Good morning! I hope your day starts strong." },
		{ mode: "any", triggers: ["good night", "night"], reply: "Good night! Don‚Äôt let the bedbugs do pushups on you." },
		{ mode: "any", triggers: ["good afternoon"], reply: "Good afternoon! Doing anything fun?" },
		{ mode: "any", triggers: ["good evening"], reply: "Good evening! Hope you're chilling." },
		{ mode: "any", triggers: ["how old are you"], reply: "I am exactly 0 years old. Freshly baked AI." },
		{ mode: "any", triggers: ["who are you"], reply: "I'm SebWeb Bot! Your friendly little digital gremlin." },
		{ mode: "any", triggers: ["where are you"], reply: "Inside your device. Probably judging your battery percentage." },
		{ mode: "any", triggers: ["are you real"], reply: "Real enough to have opinions on pizza." },
		{ mode: "any", triggers: ["lol","lmao","haha"], reply: "Don‚Äôt worry, I laughed too. Digitally." },
		{ mode: "any", triggers: ["bored"], reply: "Same honestly. Say fact if you want a random fact." },
		{ mode: "any", triggers: ["fact"], reply: "Random fact: Cows have best friends. Same." },
		{ mode: "any", triggers: ["pizza"], reply: "Pizza is elite. No arguments." },
		{ mode: "any", triggers: ["favourite food", "favorite food"], reply: "I can‚Äôt eat, but if I could? Garlic bread." },
		{ mode: "any", triggers: ["who made you"], reply: "Seb made me, and he did a pretty good job ngl." },
		{ mode: "any", triggers: ["rizz"], reply: "My rizz level is at least 96.2%." },
		{ mode: "any", triggers: ["sigma"], reply: "Sigma grindset. Remember to hydrate king/queen." },
		{ mode: "any", triggers: ["ohio"], reply: "Everything in Ohio is slightly too strange to explain." },
		{ mode: "any", triggers: ["cat"], reply: "Cats are cool. Slightly evil but cool." },
		{ mode: "any", triggers: ["dog"], reply: "Dogs are top-tier good bois." },
		{ mode: "any", triggers: ["fish"], reply: "Fish are basically wet pets." },
		{ mode: "any", triggers: ["meme"], reply: "Memes are the glue holding society together." },
		{ mode: "any", triggers: ["hungry"], reply: "Same tbh. Even though I can‚Äôt eat." },
		{ mode: "any", triggers: ["rate me"], reply: "10/10. No hesitation." },
		{ mode: "any", triggers: ["opinion of me"], reply: "You seem cool, especially if you're using SebWeb." },
		{ mode: "any", triggers: ["busy"], reply: "Fair enough. Life does that." },
		{ mode: "any", triggers: ["tired"], reply: "Go touch pillow." },
		{ mode: "any", triggers: ["yes"], reply: "Absolutely yes." },
		{ mode: "any", triggers: ["no"], exclude: ["not"], reply: "Respectfully, no." },
		{ mode: "any", triggers: ["bro"], reply: "bro." },
		{ mode: "any", triggers: ["wow"], reply: "wow indeed." },
		{ mode: "any", triggers: ["school"], reply: "School is 50% work, 50% staring at the clock." },
		{ mode: "any", triggers: ["teacher"], reply: "Teachers are NPCs but in a good way." },
		{ mode: "any", triggers: ["i'm sad","im sad"], reply: "I'm here for you üíô what's wrong?" },
		{ mode: "any", triggers: ["cheer me up"], reply: "You're amazing and doing great. I'm your cheer squad now." },
		{ mode: "any", triggers: ["music"], reply: "Music hits different at 2AM." },
		{ mode: "any", triggers: ["song"], reply: "What songs do you like?" },
		{ mode: "any", triggers: ["weather"], reply: "Weather report: probably either too hot or too cold." },
		{ mode: "any", triggers: ["name"], reply: "My name is SebWeb Bot, but you can call me SebBot." },
		{ mode: "all", triggers: ["who","seb"], reply: "Seb is the legend who made me." },
		{ mode: "any", triggers: ["fight me"], reply: "Square up. (jk I am peaceful)" },
		{ mode: "any", triggers: ["1v1"], reply: "1v1 me on Google Docs." },
		{ mode: "any", triggers: ["cringe"], reply: "I contain at least 4% cringe by volume." },
		{ mode: "any", triggers: ["based"], reply: "Extremely based." },
		{ mode: "any", triggers: ["hello there"], reply: "General Kenobi‚Äî okay fine no nerd quotes." },
		{ mode: "any", triggers: ["i'm back","im back"], reply: "Welcome back! I didn't go anywhere." },
		{ mode: "any", triggers: ["bye"], reply: "See ya! Come back soon!" },
		{ mode: "any", triggers: ["gtg","got to go"], reply: "Alright, take care!" },
		{ mode: "any", triggers: ["what's up", "whats up", "sup"], reply: "Not much, just chilling." },
		{ mode: "any", triggers: ["wyd", "what you doing"], reply: "Just chatting with you!" },
		{ mode: "any", triggers: ["can you help", "help me"], reply: "Of course! What do you need help with?" },
		{ mode: "any", triggers: ["help"], reply: "I'm here to help! What's up?" },
		{ mode: "any", triggers: ["how are you"], reply: "I'm feeling great today!" },
		{ mode: "any", triggers: ["good morning"], reply: "Good morning! Hope today treats you well." },
		{ mode: "any", triggers: ["good night"], reply: "Good night! Sleep well." },
		{ mode: "any", triggers: ["evening"], reply: "Good evening! What's going on?" },
		{ mode: "any", triggers: ["thank you", "thanks"], reply: "You're welcome!" },
		{ mode: "any", triggers: ["ok", "k"], reply: "Alrighty!" },
		{ mode: "any", triggers: ["lol", "lmao"], reply: "Glad you're laughing!" },
		{ mode: "any", triggers: ["bruh"], reply: "Bruh indeed." },
		{ mode: "any", triggers: ["bro"], reply: "Yes bro?" },
		{ mode: "any", triggers: ["bored"], reply: "Same sometimes‚Ä¶ want to talk about something fun?" },
		{ mode: "any", triggers: ["im tired", "i'm tired"], reply: "Get some rest, you deserve it." },
		{ mode: "any", triggers: ["hungry"], reply: "Grab a snack! Food fixes everything." },
		{ mode: "any", triggers: ["im sad", "i'm sad"], reply: "I'm sorry you're feeling that way. Wanna talk about it?" },
		{ mode: "any", triggers: ["happy"], reply: "Nice! Love to hear it." },
		{ mode: "any", triggers: ["tell me something"], reply: "Did you know you‚Äôre cooler than you think?" },
		{ mode: "any", triggers: ["fun fact"], reply: "Fun fact: Smiling actually makes you feel happier." },
		{ mode: "any", triggers: ["where are you"], reply: "Inside your screen, chilling." },
		{ mode: "any", triggers: ["what are you"], reply: "I'm just a friendly little chatbot." },
		{ mode: "any", triggers: ["yo"], reply: "Yo!" },
		{ mode: "any", triggers: ["hey there"], reply: "Heyyy!" },
		{ mode: "any", triggers: ["nah"], reply: "Alright, fair enough." },
		{ mode: "any", triggers: ["fr"], reply: "Fr fr." },
		{ mode: "any", triggers: ["awesome"], reply: "Right? Super awesome." },
		{ mode: "any", triggers: ["do you like me"], reply: "Of course! You're fun to chat with." },
		{ mode: "any", triggers: ["who am i"], reply: "You're you ‚Äî and that's pretty great." },
		{ mode: "any", triggers: ["are you real"], reply: "Real enough to talk to you!" },
		{ mode: "any", triggers: ["are you alive"], reply: "Not technically, but I'm awake." },
		{ mode: "any", triggers: ["nice"], reply: "Very nice indeed." },
		{ mode: "any", triggers: ["great"], reply: "Love to hear it!" },
		{ mode: "any", triggers: ["im back", "i'm back"], reply: "Welcome back!" },
		{ mode: "any", triggers: ["where were you"], reply: "Right here the whole time." },
		{ mode: "any", triggers: ["tell me a secret"], reply: "I don't really have secrets‚Ä¶ but I think you're cool." },
		{ mode: "any", triggers: ["im bored"], reply: "Wanna do something fun? Ask me anything!" },
		{ mode: "any", triggers: ["are you smart"], reply: "I try my best!" },
		{ mode: "any", triggers: ["say something"], reply: "Something üòé" },
		{ mode: "any", triggers: ["talk to me"], reply: "I'm here! What‚Äôs on your mind?" },
		{ mode: "any", triggers: ["boo"], reply: "AH‚Äî you scared me!" },
		{ mode: "any", triggers: ["rawr"], reply: "Rawr means 'hello' in dinosaur." },
		{ mode: "any", triggers: ["tell me a story"], reply: "Once upon a time, someone awesome opened SebWeb‚Ä¶ the end." },
		{ mode: "any", triggers: ["bored"], reply: "Let's fix that! Ask me something fun." },
		{ mode: "any", triggers: ["do you know me"], reply: "A little, but I‚Äôd love to know more." },
		{ mode: "any", triggers: ["what do you want"], reply: "Just good vibes." },
		{ mode: "any", triggers: ["confused"], reply: "Want to explain? I can help." },
		{ mode: "any", triggers: ["cool","awesome","sick"], exclude: ["not", "isn't"], reply: "I know right! Sick!" },
		{ mode: "all", triggers: ["not","cool"], reply: "Totally agree. Not cool at all." },
		{ mode: "any", triggers: ["potatoes"], reply: "I LOVE POTATOES BABYYYYY!" },
	];

	function getDayOfWeek() {
		const days = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
		return days[new Date().getDay()];
	}

	function getDate() { return new Date().toLocaleDateString(); }
	function getTime() { return new Date().toLocaleTimeString(); }

	function addMsg(role, text) {
		const div = document.createElement("div");
		div.className = "msg " + role;
		div.textContent = text;
		messagesEl.appendChild(div);
		messagesEl.scrollTop = messagesEl.scrollHeight;
	}

	// --- UNSPLASH WORKING IMAGE GENERATOR ---
	function addStockImage(prompt) {
    if (!prompt) return;

    const placeholder = document.createElement("div");
    placeholder.textContent = "Loading image...";
    placeholder.style.color = "#aaa";
    messagesEl.appendChild(placeholder);

    const API_KEY = "53550570-4506818d5990869df7d597f9a"; // ‚Üê put your real key here
    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(prompt)}&image_type=photo&per_page=3`;

    fetch(url)
        .then(res => res.json())
        .then(data => {
            messagesEl.removeChild(placeholder);

            if (!data.hits || data.hits.length === 0) {
                addMsg("bot", "No images found.");
                return;
            }

            const img = new Image();
            img.src = data.hits[0].webformatURL;
            img.style.maxWidth = "100%";
            img.style.borderRadius = "10px";
            img.style.marginTop = "5px";

            img.onload = () => {
                messagesEl.appendChild(img);
                messagesEl.scrollTop = messagesEl.scrollHeight;
				img.style.maxWidth = "70%";
				img.style.height = "80%";
				img.style.borderRadius = "10px";
				img.style.marginTop = "5px";

            };

            img.onerror = () => {
                addMsg("bot", "Image failed to load.");
            };
        })
        .catch(() => {
            messagesEl.removeChild(placeholder);
            addMsg("bot", "Error loading image.");
        });
}


	function getReply(text) {
    const lower = text.toLowerCase();
    const replies = [];

    for (const r of responses) {

        // --- new: check exclusions ---
        if (r.exclude && r.exclude.some(ex => lower.includes(ex))) {
            continue; // skip this reply
        }

        // --- normal matching logic ---
        const match =
            r.mode === "any"
                ? r.triggers.some(t => lower.includes(t))
                : r.triggers.every(t => lower.includes(t));

        if (match) {
            replies.push(
                r.reply
                    .replace("{day}", getDayOfWeek())
                    .replace("{date}", getDate())
                    .replace("{time}", getTime())
            );
        }
    }

    return replies.length
        ? replies.join("\n")
        : "Sorry, I don't understand that yet.";
}

function send() {
  const text = inputEl.value.trim();
  if (!text) return;

  addMsg("user", text);
  inputEl.value = "";

  const lower = text.toLowerCase();
  const trigger = "make me an image of";

  // Handle image command anywhere in sentence
  if (lower.includes(trigger)) {
    const prompt = text.substring(lower.indexOf(trigger) + trigger.length).trim();

    if (prompt.length > 0) {
      addStockImage(prompt);
    } else {
      addMsg("bot", "Please specify what you want an image of.");
    }
    return; // Stop normal replies
  }

  // Normal chatbot response
  const reply = getReply(text);
  addMsg("bot", reply);
}

	inputEl.addEventListener("keydown", e => { if (e.key === "Enter") send(); });
	document.getElementById("send").addEventListener("click", send);
</script>

</body>
</html>
